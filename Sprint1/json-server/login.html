<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGIN</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CADASTRO</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <form class="form">
        <p id="heading">vamo desenhar nesse corpinho?</p>
        <div class="field">
            <input autocomplete="off" placeholder="email" class="input-field" type="text">
        </div>
        <div class="field">
            <input placeholder="senha" class="input-field" type="password">
        </div>
        <div class="btn">
            <button onclick="entrar()" class="button1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entrar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
            <button onclick="window.location.href='cadastro.html'" class="button2">n√£o tenho conta</button>
        </div>
    </form>
    <div id="toast" class="toast"></div>

</body>

</html>
    
</body>
</html>

<script>

    function entrar() {
        event.preventDefault();

        let email = document.querySelector('.input-field[type="text"]').value;
        let senha = document.querySelector('.input-field[type="password"]').value;

        try {
            fetch('http://localhost:3000/pessoas')
                .then(resposta => resposta.json())
                .then(dados => {
                    const usuario = dados.find(user => user.email === email && user.senha === senha);
                    if (usuario) {
                        toast.innerHTML = `oiii ${usuario.nome} üòà`;
                        showToast()
                    } else {
                        toast.innerHTML = `vamo tentar mais uma vez?`
                        showToast();
                    }
                })
        } catch (erro) {

        }

        function showToast() {
            const toast = document.getElementById("toast");
            toast.classList.add("show");
            setTimeout(() => {
                toast.classList.remove("show");
            }, 2500);
        }
    }


</script>